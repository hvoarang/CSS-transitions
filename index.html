<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS-transitions</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/2.0.0/modern-normalize.min.css"
    />
    <link rel="stylesheet" href="./style/style.css" />
  </head>

  <body class="body">
    <header class="header">
      <div class="container">
        <h3 class="title">CSS-переходы</h3>

        <p>
          CSS-переходы позволяют анимировать изменение значения свойства с
          течением времени, управляя скоростью этого перехода. Изменение свойств
          происходит при наступлении определенного события, которое описывается
          соответствующим псевдоклассом, например <b>:hover</b>.
        </p>
        <p>
          <b>Переход всегда имеет только два состояния</b> - начальное и
          конечное значение свойства, и умеет изменять это значение A > B и B >
          A за указанное время. Для анимаций с большим количеством состояний
          необходимо использовать CSS-анимацию.
        </p>
        <img src="./images/transition-states.png" width="600" />
        <p>
          Следующие четыре свойства управляют различными параметрами перехода.
        </p>
        <p class="bg">
          transition-property: &lt;свойство&gt; <br />
          transition-duration: &lt;время&gt; <br />
          transition-timing-function: &lt;функция распределения времени&gt;
          <br />
          transition-delay: &lt;задержка&gt; <br />
        </p>
        <p>
          Всё, что необходимо сделать, это указать начальные значения
          анимируемых свойств и значения свойств перехода, после чего при
          событии, например :hover, задать новые значения свойств, до которых мы
          хотим анимировать элемент. Наведите курсор мыши на квадрат для запуска
          перехода.
        </p>
        <div class="box"></div>
        <p class="information">
          При добавлении каких-либо перемещений (переходов и анимаций), они
          должны быть простыми, не навязчивыми и логичными. Анимация должна
          передавать смысл, акцентируя внимание, не отвлекая пользователя от
          взаимодействия с контентом.
        </p>
        <h3 class="title">Свойство transition-property</h3>
        <p>
          Задаёт свойства, к которым будет применён эффект перехода. Значением
          может быть одно свойство или список свойств через запятую. По
          умолчанию значение <b>all</b> - анимируются все возможные свойства.
        </p>
        <p class="bg">
          .box { <br />
          background-color: teal; <br />
          transition-property: background-color; <br />
          } <br /><br />

          .box:hover {<br />
          background-color: orange;<br />
          }
        </p>
        <p class="information">
          Список свойств, которые могут быть анимированы в будущем может
          измениться. Поэтому обязательно необходимо указывать свойство, которое
          нужно анимировать, иначе будут анимированы все возможнные свойства
          элемента, что приведёт к неожиданным результатам.
        </p>
        <h3 class="title">Свойство transition-duration</h3>
        <p>
          Если продолжительность перехода не указана, то изменение значений
          произойдёт мгновенно, без анимации. Свойство
          <b>transition-duration</b>
          задаёт промежуток времени, в течение которого должен осуществиться
          переход. Указывается в секундах, например 2s или 0.5s, либо в
          миллисекундах - 2000ms и 500ms соотвественно. Если разные свойства
          имеют разные значения времени перехода, то они перечисляются через
          запятую.
        </p>
        <p class="bg">
          .box { <br />
          background-color: teal; <br />
          transition-property: background-color; <br />
          transition-duration: 1000ms; <br />
          } <br /><br />

          .box:hover {<br />
          background-color: orange;<br />
          }
        </p>
        <h3>Переход срабатывает при наведении курсора на контейнер</h3>

        <div class="flex-container">
          <div class="circle">500ms</div>
          <div class="circle">1500ms</div>
          <div class="circle">3000ms</div>
        </div>
        <h3 class="title">Свойство transition-timing-function</h3>
        <p>
          Задаёт функцию распределения времени, которая описывает скорость
          перехода свойства от одного значения к другому за время, указанное в
          <b>transition-duration</b>, то есть поведение анимации.
        </p>
        <p class="bg">
          .box { <br />
          background-color: teal;<br />
          transition-property: background-color;<br />
          transition-duration: 1000ms;<br />
          transition-timing-function: linear;<br />
          } <br /><br />

          .box:hover {<br />
          background-color: orange;<br />
          }
        </p>
        <p>
          В CSS есть несколько ключевых слов для описания базовых функций Безье.
          По умолчанию используется значение ease - переход начинается медленно,
          быстро ускоряется, а затем снова замедляется в конце. Остальные
          ключевые слова: <b>linear</b>, <b>ease-in</b>, <b>ease-out</b>, и
          <b>ease-in-out</b>.
        </p>
        <h3>A transition is triggered when hovering over a container</h3>

        <div class="circle-container">
          <div class="circle-in"></div>
          <div class="circle-in"></div>
          <div class="circle-in"></div>
          <div class="circle-in"></div>
          <div class="circle-in"></div>
          <div class="circle-in"></div>
        </div>
        <h3 class="title">Свойство transition-delay</h3>
        <p>
          Задержка, после которой начнётся анимация перехода. Используется для
          построения сценариев - последовательности переходов разных элементов.
          По умолчанию задано значение 0s.
          <br />

          В примере установлена задержка 500ms. Наведите курсор мыши на квадрат
          и переход начнётся только через пол секунды после этого события.
        </p>
        <div class="box-delay"></div>

        <h3 class="title">Краткая запись перехода</h3>
        <p>
          Все свойства перехода можно объединить в одно составное свойство
          transition.
        </p>
        <p class="bg">
          <b>transition: [property] [duration] [timing-function] [delay]</b>
        </p>
        <p>
          Если анимируется несколько свойств, то набор значений для каждого из
          них разделяется запятой. Необходимо обязательно указать свойство и
          время перехода, функцию времени и задержку можно не указывать, тогда
          для них будут использованы значения по умолчанию.
        </p>
        <p class="bg">
          <b
            >transition: background-color 500ms linear, transform 500ms
            ease-in-out;</b
          >
        </p>
        <h3 class="title">Сценарии с transition-delay</h3>
        <p>
          Напишем простой сценарий перехода цвета фона и вращения блока. Сначала
          блок должен изменить цвет, и только после этого начать вращаться. Всё,
          что необходимо сделать, это указать переходу вращения подождать
          столько времени, сколько займёт анимация смены цвета фона.
        </p>
        <p class="bg">
          <b
            >transition: background-color 500ms linear, transform 500ms
            ease-in-out 500ms;</b
          >
        </p>
        <div class="box-tdelay"></div>
        <h3 class="title">Анимируемые свойства</h3>
        <p>
          Из всех свойств, которые могут быть анимированы, рекомендуется, по
          возможности, использовать всего два: opacity (прозрачность) и
          transform (трансформация). В большинстве случаев анимирование других
          свойств не значительно повлияет на производительность страницы, но
          лучше придерживаться этого правила чтобы создавать максимально
          производительную анимацию. Всё дело в том, как браузер рисует
          веб-страницу.
        </p>
        <ol>
          <li>
            <b>Шаг JavaScript </b> - скрипт или какое-то событие, например ховер
            или фокус, запускают анимацию стилей элемента.
          </li>
          <li>
            <b>Шаг Style</b> - происходит вычисление новых стилей элементов,
            рассчитывается специфичность, конфликты, каскадирование и тому
            подобное.
          </li>
          <li>
            <b>Шаг Layout</b> - выполняется расчёт геометрии элементов. При
            анимации свойства, которое влияет на геметрию, например margin,
            браузеру приходится вычислять новую позицию для целой группы
            элементов.
          </li>
          <li>
            <b>Шаг Painting</b> - происходит прорисовка слоёв, потому что
            элементы вложены друг в друга или позиционированы, тем самым
            создавая слоёный пирог.
          </li>
          <li>
            <b>Шаг Composite</b> - компоновка всех подготовленных слоёв и
            отрисовка финальной картинки на экране пользователя.
          </li>
        </ol>
        <p>
          Например, если анимировать свойство <b>width</b>, браузеру придётся
          выполнить шаги <b>Layout > Paint > Composite</b>, а это довольно
          дорогостоящая операция для производительности веб-страницы.
        </p>
        <img src="./images/animating-width.jpg" width="600" alt="" />
        <p>
          Анимация свойтсва <b>background</b> не влияет на геометрию элементов,
          поэтому браузеру достаточно выполнить шаги <b>Paint > Composite</b>.
        </p>
        <img src="./images/animating-background.jpg" width="600" alt="" />
        <p>
          Для анимации свойств <b>opacity</b> и <b>transform</b> браузеру не
          нужно рассчитывать новую геометрию или перерисовывать слои, достаточно
          выполнить только шаг <b>Composite</b>.
        </p>
        <img
          src="./images/animating-opacity-transform.jpg"
          width="600"
          alt=""
        />
        <p>
          В примере демонстрируется разница в производительности между анимацией
          левого отступа и трансформации для перемещения 3000 элементов. При
          анимации <b>margin</b>, эффект перемещения рваный, скачкообразный,
          потому что браузеру приходится постоянно рассчитывать геометрию и
          слои. Если анимируется transform - перемещение плавное, без скачков.
        </p>
        <p class="warning">
          Анимация трёх тысяч элементов это довольно ресурсоёмкая операция и
          может отображаться по-разному, в зависимости от мощности вашего
          компьютера.
        </p>
      </div>
    </header>
    <script src="./js/script.js"></script>
  </body>
</html>
